sudo apt update
sudo apt install hostapd dnsmasq -y


sudo systemctl stop hostapd
sudo systemctl stop dnsmasq


sudo nano /etc/dhcpcd.conf

inserisci:

interface wlan0
    static ip_address=192.168.4.1/24
    nohook wpa_supplicant


sudo mv /etc/dnsmasq.conf /etc/dnsmasq.conf.backup
sudo nano /etc/dnsmasq.conf

inserisci: 

interface=wlan0
dhcp-range=192.168.4.2,192.168.4.20,255.255.255.0,24h

sudo nano /etc/hostapd/hostapd.conf

inserisci:

interface=wlan0
driver=nl80211
ssid=HotspotRPi
hw_mode=g
channel=7
ieee80211n=1
wmm_enabled=1
auth_algs=1
wpa=2
wpa_passphrase=Tuapassword123
wpa_key_mgmt=WPA-PSK
rsn_pairwise=CCMP


sudo nano /etc/default/hostapd


DAEMON_CONF="/etc/hostapd/hostapd.conf"


sudo systemctl unmask hostapd
sudo systemctl enable hostapd
sudo systemctl enable dnsmasq
sudo reboot

villasilvia@raspberrypi:~ $ ip a show wlan0
2: wlan0: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500 qdisc pfifo_fast state UP group default qlen 1000
    link/ether 2c:cf:67:be:6c:7e brd ff:ff:ff:ff:ff:ff
    inet 192.168.4.1/24 brd 192.168.4.255 scope global noprefixroute wlan0
       valid_lft forever preferred_lft forever
    inet6 fe80::1f55:516d:7dac:17da/64 scope link noprefixroute 
       valid_lft forever preferred_lft forever
